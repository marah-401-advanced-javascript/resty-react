{"version":3,"sources":["components/form/form.js","components/header/header.js","components/footer/footer.js","components/if/if.js","components/results/results.js","components/history/history.js","App.js","index.js"],"names":["Form","props","handleUrl","e","url","target","value","setState","handleMethod","method","handleBody","body","bodyData","JSON","parse","handleSubmit","a","preventDefault","reset","state","data","console","log","dataBody","fetch","mode","cache","credentials","headers","redirect","referrerPolicy","stringify","raw","get","json","handler","history","localStorage","getItem","push","response","setItem","alert","onSubmit","this","className","name","type","placeholder","onChange","onClick","handelBody","React","Component","Header","to","Footer","render","condition","children","If","Children","map","child","cloneElement","Then","Result","src","History","handlerClick","bind","array","split","runHandler","LocalStorage","item","i","key","getDataLocal","App","handleForm","Headers","Response","handleRerunHistory","loading","exact","path","Main","StrictMode","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e2c3dd5a.chunk.js","sourcesContent":["import React from 'react';\nimport './form.scss';\n\nclass Form extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = { method: '', url: '', body:'', history:[]};\n  }\n  //watch the change of the url input\n  handleUrl = (e) => {\n    const url = e.target.value;\n    this.setState({ url });\n  };\n  //watch the radio button change\n  handleMethod = (e) => {\n    const method = e.target.value;\n    this.setState({ method });\n  };\n  //watch the body text area input\n  handleBody = (e) => {\n    const body = e.target.value;\n    const bodyData = JSON.parse(body);\n    this.setState({ body:{bodyData} });\n  };\n  \n  //when submit the form\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    e.target.reset();\n    // if there is any props coming from history \n    if(this.props.method && this.props.url && this.props.body.bodyData){\n      let method = this.props.method;\n      let url = this.props.url;\n      let body = this.props.body.bodyData;\n      this.state.method = method;\n      this.state.url = url;\n      this.state.body = {data: JSON.parse(body)};\n    }\n    else if(this.props.method && this.props.url){\n      let method = this.props.method;\n      let url = this.props.url;\n      this.state.method = method;\n      this.state.url = url;\n    }\n    console.log('METHOD',this.state.method);\n    //fetch data coming from history if any , or fetch data coming from the form directly\n    if( (this.state.url && this.state.method==='put')||(this.state.url && this.state.method==='post')) {\n      const url = this.state.url;\n      const method = this.state.method;\n      const dataBody =  this.state.body.bodyData;\n      const raw = await fetch(url, {\n        method: method,\n        mode: 'cors', \n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer', \n        body: JSON.stringify(dataBody),\n      });\n      const headers = { 'Content-Type': raw.headers.get('Content-Type') };\n      const data = await raw.json();\n      this.props.handler(data,headers);\n      this.history = JSON.parse(localStorage.getItem('history'));\n      this.history.push({url:url, method: method, response: data });\n      localStorage.setItem('history', JSON.stringify(this.history));\n\n    }else if(this.state.url && this.state.method==='get'){\n      const url = this.state.url;\n      const method = this.state.method;\n      const raw = await fetch(url, {\n        method: method,\n        mode: 'cors', \n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer', \n      });\n      const headers = { 'Content-Type': raw.headers.get('Content-Type') };\n      const data = await raw.json();\n      this.props.handler(data,headers);\n      this.history = JSON.parse(localStorage.getItem('history'));\n      this.history.push({url:url, method: method, response: data });\n      localStorage.setItem('history', JSON.stringify(this.history));\n    }\n    else if(this.state.url && this.state.method==='delete'){\n      const url = this.state.url;\n      const method = this.state.method;\n      const raw = await fetch(url, {\n        method: method,\n        mode: 'cors', \n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer', \n      });\n      this.props.handler(raw);\n      this.history = JSON.parse(localStorage.getItem('history'));\n      this.history.push({url:url, method: method, response: raw });\n      localStorage.setItem('history', JSON.stringify(this.history));\n    }\n    \n    else{\n      alert('missing information');\n    }\n  };\n\n  render(){\n    return (\n      <>\n        <form onSubmit={this.handleSubmit}>\n\n          <div className=\"div\">\n            <input className=\"input\" name=\"urlInput\" type=\"url\" placeholder=\"Enter URL\" onChange={this.handleUrl} />\n            <button type=\"submit\">GO!</button>\n          </div>\n               \n          <div className=\"div\">\n            <span className=\"method\"><input className=\"methodGet\"  type=\"radio\" name=\"method\" value=\"get\"onClick={this.handleMethod}/>GET</span>\n            <span className=\"method\" ><input type=\"radio\" name=\"method\" value=\"post\"onClick={this.handleMethod}/>POST</span>\n            <span className=\"method\"><input type=\"radio\" name=\"method\" value=\"put\" onClick={this.handleMethod}/>PUT</span>\n            <span className=\"method\"><input type=\"radio\" name=\"method\" value=\"delete\"onClick={this.handleMethod}/>DELETE</span>\n          </div>\n\n          <textarea placeholder=\"Body\" name=\"requestBody\" onChange={this.handelBody}></textarea>\n\n        </form>\n      </>\n    );\n  }\n\n}\n  \nexport default Form;\n","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nimport './header.scss';\n\nconst Header = () => {\n  return (\n    <header>\n      <h1>RESTy APP</h1>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <NavLink to=\"/history\">History</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport './footer.scss';\n\nconst Footer = () => {\n  return (\n    <footer>\n      <p>&copy; 2020</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\n\nconst render = (condition = false , children = null) => {\n  return condition ? children : null;\n};\n\n\nexport const If = props => \n  React.Children.map(props.children, child =>\n    React.cloneElement(child, {condition: props.condition}),\n  ); \n\nexport const Then = props => render(props.condition, props.children);\nexport const Else = props => render(!props.condition, props.children);","import React from 'react';\nimport { If, Then } from '../if/if';\nimport ReactJson from 'react-json-view';\n\nfunction Result(props) {\n  return (\n    <>\n      <If condition={props.response.data}>\n        <Then>\n          <ReactJson name='Headers' src={props.headers} />\n          <ReactJson name='Response' src={props.response} />\n        </Then>\n      </If>\n    </>\n  );\n}\n\nexport default Result;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass History extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {history:[]};\n    this.handlerClick = this.handlerClick.bind(this);\n  }\n  //after rendering\n  componentDidMount(){\n    const history = JSON.parse(localStorage.getItem('history'));\n    console.log(history);\n    this.setState({history});\n  }\n\n  // getting the method, url, data from the input , on click do this then pass them to the parent app\n  handlerClick(e) {\n    let array = e.target.value.split('  ');\n    console.log(array);\n    if (array[5]) {\n      let method = array[1];\n      let url = array[3];\n      let data = array[5];\n      this.props.runHandler(method,url,data);\n    }\n    else {\n      let method = array[1];\n      let url = array[3];\n      this.props.runHandler(method,url); \n    }\n  }\n\n  //function that will put the method,url,body from the local storage in an input to access them on click\n  getDataLocal() {\n    let LocalStorage = JSON.parse(localStorage.getItem('history'));\n   \n    if (LocalStorage) {\n      return LocalStorage.map((item, i) => {\n        if (item.body) { ////replace the input in a button and li \n          let body = JSON.stringify(item.body);\n          return <li key={i} >\n            <input type='text' onClick={this.handlerClick} value={`method:  ${item.method}  url:  ${item.url}  body:  ${body}`} />\n          </li>;\n        }\n        else {\n          return <li key={i}>\n            <input type='text'  onClick={this.handlerClick} value={`method:  ${item.method}  url:  ${item.url}`} />\n          </li>;\n        }\n      });\n    }\n  }\n\n  render(){\n    return(\n      <>\n        <p>Choose your history then hit GO!</p>\n        <ul>\n          <Link to=\"/\">{this.getDataLocal()}</Link>\n        </ul>\n      </>\n    );\n  }\n\n}\n\nexport default History;\n\n\n//<div><pre>\"Response\":{JSON.stringify(query.response,null,2)}</pre></div>\n// {\n//     this.state.history.map((query,i) => {\n//         this.key = i;\n//         return (<li key={this.key}>\n//           <span id=\"methodHis\">{query.method}</span> <span id=\"urlHis\">{query.url}</span>\n//           <Link to=\"/\">{this.getDataLocal()}</Link>Run!\n//         </li>);\n//       })\n//     }","\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport Form from './components/form/form';\nimport Header from './components/header/header';\nimport Footer from './components/footer/footer';\nimport Results from './components/results/results';\nimport History from './components/history/history';\nimport './App.scss';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { Headers:{}, Response:{}, loading:false };\n  }\n  // will recieve response and headers from the form submit ,then pass them to result component\n  handleForm = (data,headers) => {\n    this.setState({ Headers: {headers}, Response:{data} });\n  };\n\n  // recieving the url ,method ,data from the history click ,then pass them to form component\n  handleRerunHistory = (method , url, data) => {\n    let bodyData = JSON.stringify(data);\n    this.setState({ method, url, body:{bodyData} });\n  };\n\n\n  render() {\n    return (\n      <>\n        <Header />\n\n        <Route exact path=\"/\">\n          <Form handler={this.handleForm} method={this.state.method} url={this.state.url} body={this.state.body}  />\n          <Results response={this.state.Response} headers={this.state.Headers} loading={this.state.loading} />\n        </Route>\n\n        <Route exact path=\"/history\">\n          <History runHandler={this.handleRerunHistory} />\n        </Route>\n\n        <Footer />\n      </>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <React.StrictMode>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </React.StrictMode>\n    );\n  }\n}\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}