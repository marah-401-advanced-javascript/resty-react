(this["webpackJsonpresty-react"]=this["webpackJsonpresty-react"]||[]).push([[0],{24:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),o=a(10),l=a(9),s=a(0),c=a.n(s),i=a(21),u=a.n(i),h=a(8),d=a(1),m=a(15),p=a.n(m),y=a(22),f=(a(30),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).history=[],r.handleUrl=function(e){var t=e.target.value;r.setState({url:t})},r.handleMethod=function(e){var t=e.target.value;r.setState({method:t})},r.handleBody=function(e){var t=e.target.value,a=JSON.parse(t);r.setState({body:{bodyData:a}})},r.handleSubmit=function(){var e=Object(y.a)(p.a.mark((function e(t){var a,n,o,l,s,c,i,u,h,d,m,y,f,E,g,b,v,O,S;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),r.props.method&&r.props.url&&r.props.body.bodyData?(a=r.props.method,n=r.props.url,o=r.props.body.bodyData,r.state.method=a,r.state.url=n,r.state.body={data:JSON.parse(o)}):r.props.method&&r.props.url&&(l=r.props.method,s=r.props.url,r.state.method=l,r.state.url=s),console.log("METHOD",r.state.method),!(r.state.url&&"put"===r.state.method||r.state.url&&"post"===r.state.method)){e.next=21;break}return c=r.state.url,i=r.state.method,u=r.state.body.bodyData,e.next=10,fetch(c,{method:i,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(u)});case 10:return h=e.sent,d={"Content-Type":h.headers.get("Content-Type")},e.next=14,h.json();case 14:m=e.sent,r.history=JSON.parse(localStorage.getItem("history")),r.history.push({url:c,method:i,response:m}),localStorage.setItem("history",JSON.stringify(r.history)),r.props.handler(m,d),e.next=50;break;case 21:if(!r.state.url||"get"!==r.state.method){e.next=37;break}return y=r.state.url,f=r.state.method,e.next=26,fetch(y,{method:f,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 26:return E=e.sent,g={"Content-Type":E.headers.get("Content-Type")},e.next=30,E.json();case 30:b=e.sent,r.history=JSON.parse(localStorage.getItem("history")),r.history.push({url:y,method:f,response:b}),localStorage.setItem("history",JSON.stringify(r.history)),r.props.handler(b,g),e.next=50;break;case 37:if(!r.state.url||"delete"!==r.state.method){e.next=49;break}return v=r.state.url,O=r.state.method,e.next=42,fetch(v,{method:O,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 42:S=e.sent,r.history=JSON.parse(localStorage.getItem("history")),r.history.push({url:v,method:O,response:S}),localStorage.setItem("history",JSON.stringify(r.history)),r.props.handler(S),e.next=50;break;case 49:alert("missing information");case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={method:"",url:"",body:""},JSON.parse(localStorage.getItem("history"))||localStorage.setItem("history",JSON.stringify(r.history)),r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"div"},c.a.createElement("input",{className:"input",name:"urlInput",type:"url",placeholder:"Enter URL",onChange:this.handleUrl}),c.a.createElement("button",{type:"submit"},"GO!")),c.a.createElement("div",{className:"div"},c.a.createElement("span",{className:"method"},c.a.createElement("input",{className:"methodGet",type:"radio",name:"method",value:"get",onClick:this.handleMethod}),"GET"),c.a.createElement("span",{className:"method"},c.a.createElement("input",{type:"radio",name:"method",value:"post",onClick:this.handleMethod}),"POST"),c.a.createElement("span",{className:"method"},c.a.createElement("input",{type:"radio",name:"method",value:"put",onClick:this.handleMethod}),"PUT"),c.a.createElement("span",{className:"method"},c.a.createElement("input",{type:"radio",name:"method",value:"delete",onClick:this.handleMethod}),"DELETE")),c.a.createElement("textarea",{placeholder:"Body",name:"requestBody",onChange:this.handelBody})))}}]),a}(c.a.Component)),E=(a(31),function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"RESTy APP"),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(h.c,{to:"/history"},"History")))))}),g=(a(37),function(){return c.a.createElement("footer",null,c.a.createElement("p",null,"\xa9 2020"))}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},v=function(e){return c.a.Children.map(e.children,(function(t){return c.a.cloneElement(t,{condition:e.condition})}))},O=function(e){return b(e.condition,e.children)},S=a(18),k=a.n(S);var C=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{condition:e.response.data},c.a.createElement(O,null,c.a.createElement(k.a,{name:"Headers",src:e.headers}),c.a.createElement(k.a,{name:"Response",src:e.response}))))},j=a(13),N=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={history:[]},r.handlerClick=r.handlerClick.bind(Object(j.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));console.log(e),this.setState({history:e})}},{key:"handlerClick",value:function(e){var t=e.target.value.split("  ");if(console.log(t),t[5]){var a=t[1],n=t[3],r=t[5];this.props.runHandler(a,n,r)}else{var o=t[1],l=t[3];this.props.runHandler(o,l)}}},{key:"getDataLocal",value:function(){var e=this,t=JSON.parse(localStorage.getItem("history"));if(t)return t.map((function(t,a){if(t.body){var n=JSON.stringify(t.body);return c.a.createElement("li",{key:a},c.a.createElement("input",{type:"text",onClick:e.handlerClick,value:"method:  ".concat(t.method,"  url:  ").concat(t.url,"  body:  ").concat(n)}))}return c.a.createElement("li",{key:a},c.a.createElement("input",{type:"text",onClick:e.handlerClick,value:"method:  ".concat(t.method,"  url:  ").concat(t.url)}))}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Choose your history then hit GO!"),c.a.createElement("ul",null,c.a.createElement(h.b,{to:"/"},this.getDataLocal())))}}]),a}(c.a.Component),x=(a(38),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleForm=function(e,t){r.setState({Headers:{headers:t},Response:{data:e}})},r.handleRerunHistory=function(e,t,a){var n=JSON.stringify(a);r.setState({method:e,url:t,body:{bodyData:n}})},r.state={Headers:{},Response:{},loading:!1},r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(E,null),c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement(f,{handler:this.handleForm,method:this.state.method,url:this.state.url,body:this.state.body}),c.a.createElement(C,{response:this.state.Response,headers:this.state.Headers,loading:this.state.loading})),c.a.createElement(d.a,{exact:!0,path:"/history"},c.a.createElement(N,{runHandler:this.handleRerunHistory})),c.a.createElement(g,null))}}]),a}(c.a.Component)),J=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.StrictMode,null,c.a.createElement(h.a,null,c.a.createElement(x,null)))}}]),a}(c.a.Component);u.a.render(c.a.createElement(J,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.741737af.chunk.js.map